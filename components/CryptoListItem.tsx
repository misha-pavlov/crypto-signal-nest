import { HStack, View, Text } from "@gluestack-ui/themed";
import FastImage from "react-native-fast-image";
import { FC } from "react";
import { LineGraph } from "react-native-graph";
import { Octicons } from "@expo/vector-icons";
import { colors } from "../config/colors";
import { getPriceHistory, hexToRgba } from "../helpers";
import { TouchableOpacity } from "react-native";

type CryptoListItemPropsType = {
  showRecommendation?: boolean;
  showChart?: boolean;
  isSelectionList?: boolean;
  left?: boolean;
  right?: boolean;
  isSelected?: boolean;
};

const CryptoListItem: FC<CryptoListItemPropsType> = ({
  showRecommendation,
  showChart,
  isSelectionList,
  left,
  right,
  isSelected,
}) => {
  return (
    <TouchableOpacity>
      <HStack
        alignItems="center"
        justifyContent={isSelectionList && right ? "space-between" : undefined}
      >
        {isSelectionList && left && (
          <TouchableOpacity>
            <View
              borderWidth={1}
              borderColor={isSelected ? colors.primaryGreen : colors.white}
              backgroundColor={
                isSelected ? colors.primaryGreen : colors.primaryBlack
              }
              w={20}
              h={20}
              borderRadius="$full"
              mr={16}
              alignItems="center"
              justifyContent="center"
            >
              <Octicons name="check" size={14} color={colors.primaryBlack} />
            </View>
          </TouchableOpacity>
        )}

        <HStack alignItems="center" space="sm" w={100} mr="22%">
          <FastImage
            style={{ width: 28, height: 28 }}
            source={{
              uri: "https://static.coinstats.app/coins/1650455588819.png",
              priority: FastImage.priority.high,
            }}
            resizeMode={FastImage.resizeMode.contain}
          />

          <View>
            <Text color={colors.white} fontSize={14} lineHeight={17}>
              Bitcoin
            </Text>
            <Text
              color={hexToRgba(colors.white, 0.5)}
              fontSize={14}
              lineHeight={17}
            >
              BTC
            </Text>
          </View>
        </HStack>

        {showRecommendation && !isSelectionList && (
          <View mr="10%">
            <Text fontSize={14} lineHeight={17} color={colors.green}>
              60% Buy
            </Text>
          </View>
        )}

        {showChart && !isSelectionList && (
          <View>
            <LineGraph
              points={getPriceHistory(chartMock)}
              color={colors.red}
              enableFadeInMask
              animated
              lineThickness={1}
              style={{ width: 87, height: 37 }}
              gradientFillColors={[
                hexToRgba(colors.red, 0.2),
                hexToRgba(colors.red, 0.1),
                hexToRgba(colors.red, 0.1),
              ]}
            />
          </View>
        )}

        {isSelectionList && right && (
          <TouchableOpacity>
            <View>
              <Octicons
                name={isSelected ? "check" : "plus"}
                size={20}
                color={colors.white}
              />
            </View>
          </TouchableOpacity>
        )}
      </HStack>
    </TouchableOpacity>
  );
};

export default CryptoListItem;

const chartMock = [
  [1703531100, 43427.0612, 1, 19.0777],
  [1703531400, 43450.7458, 1, 19.0861],
  [1703531700, 43472.8955, 1, 19.0906],
  [1703532000, 43455.0449, 1, 19.0923],
  [1703532300, 43414.6609, 1, 19.0876],
  [1703532600, 43437.1966, 1, 19.0852],
  [1703532900, 43431.1917, 1, 19.0905],
  [1703533200, 43433.7054, 1, 19.0981],
  [1703533500, 43477.8815, 1, 19.1071],
  [1703533800, 43461.797, 1, 19.0921],
  [1703534100, 43490.6493, 1, 19.0973],
  [1703534400, 43480.8691, 1, 19.1135],
  [1703534700, 43480.3057, 1, 19.1379],
  [1703535000, 43442.9303, 1, 19.1252],
  [1703535300, 43400.6477, 1, 19.1661],
  [1703535600, 43467.0641, 1, 19.1565],
  [1703535900, 43399.973, 1, 19.1592],
  [1703536200, 43407.7862, 1, 19.1673],
  [1703536500, 43402.8244, 1, 19.1657],
  [1703536800, 43369.6202, 1, 19.1862],
  [1703537100, 43339.8528, 1, 19.177],
  [1703537400, 43373.1453, 1, 19.16],
  [1703537700, 43378.6868, 1, 19.1636],
  [1703538000, 43423.7573, 1, 19.1455],
  [1703538300, 43416.967, 1, 19.1478],
  [1703538600, 43372.1318, 1, 19.1685],
  [1703538900, 43415.8465, 1, 19.1509],
  [1703539200, 43425.7078, 1, 19.1438],
  [1703539500, 43376.4622, 1, 19.1343],
  [1703539800, 43383.1793, 1, 19.127],
  [1703540100, 43380.6441, 1, 19.1198],
  [1703540400, 43368.1031, 1, 19.1283],
  [1703540700, 43415.0844, 1, 19.13],
  [1703541000, 43448.1808, 1, 19.1344],
  [1703541300, 43474.8115, 1, 19.1457],
  [1703541600, 43525.6749, 1, 19.154],
  [1703541900, 43571.8596, 1, 19.18],
  [1703542200, 43585.6331, 1, 19.1452],
  [1703542500, 43627.4475, 1, 19.1502],
  [1703542800, 43709.8982, 1, 19.1419],
  [1703543100, 43673.6538, 1, 19.126],
  [1703543400, 43635.9647, 1, 19.1299],
  [1703543700, 43670.0818, 1, 19.1125],
  [1703544000, 43683.5859, 1, 19.1183],
  [1703544300, 43716.5598, 1, 19.1367],
  [1703544600, 43683.2339, 1, 19.155],
  [1703544900, 43703.8126, 1, 19.1514],
  [1703545200, 43690.3785, 1, 19.1164],
  [1703545500, 43647.6999, 1, 19.1054],
  [1703545800, 43625.0043, 1, 19.1438],
  [1703546100, 43628.7712, 1, 19.145],
  [1703546400, 43607.5037, 1, 19.1461],
  [1703546700, 43636.3293, 1, 19.1663],
  [1703547000, 43628.0059, 1, 19.1636],
  [1703547300, 43607.084, 1, 19.168],
  [1703547600, 43633.3186, 1, 19.1876],
  [1703547900, 43597.5904, 1, 19.1825],
  [1703548200, 43634.0262, 1, 19.1951],
  [1703548500, 43619.6039, 1, 19.1902],
  [1703548800, 43583.5816, 1, 19.1876],
  [1703549100, 43583.4363, 1, 19.1808],
  [1703549400, 43571.361, 1, 19.179],
  [1703549700, 43553.0915, 1, 19.1736],
  [1703550000, 43547.9915, 1, 19.1638],
  [1703550300, 43522.6578, 1, 19.1609],
  [1703550600, 43492.2594, 1, 19.1647],
  [1703550900, 43532.3822, 1, 19.1586],
  [1703551200, 43501.3656, 1, 19.1469],
  [1703551500, 43515.1531, 1, 19.1512],
  [1703551800, 43493.0709, 1, 19.164],
  [1703552100, 43433.2472, 1, 19.1666],
  [1703552400, 43446.6588, 1, 19.1652],
  [1703552700, 43481.3433, 1, 19.1581],
  [1703553000, 43498.6928, 1, 19.1715],
  [1703553300, 43506.8089, 1, 19.1593],
  [1703553600, 43498.1834, 1, 19.1359],
  [1703553900, 43529.1266, 1, 19.154],
  [1703554200, 43519.2121, 1, 19.1494],
  [1703554500, 43495.6431, 1, 19.1535],
  [1703554800, 43452.4844, 1, 19.1328],
  [1703555100, 43510.4239, 1, 19.1602],
  [1703555400, 43482.4337, 1, 19.1478],
  [1703555700, 43503.0192, 1, 19.1461],
  [1703556000, 43509.2857, 1, 19.141],
  [1703556300, 43468.0905, 1, 19.1117],
  [1703556600, 43481.7354, 1, 19.1162],
  [1703556900, 43452.9779, 1, 19.1118],
  [1703557200, 43443.7927, 1, 19.1283],
  [1703557500, 43450.7539, 1, 19.129],
  [1703557800, 43446.066, 1, 19.1231],
  [1703558100, 43416.5119, 1, 19.1352],
  [1703558400, 43475.9913, 1, 19.141],
  [1703558700, 43528.2124, 1, 19.1395],
  [1703559000, 43527.8903, 1, 19.1478],
  [1703559300, 43509.8321, 1, 19.1414],
  [1703559600, 43425.0641, 1, 19.1403],
  [1703559900, 43434.9128, 1, 19.1447],
  [1703560200, 43450.4924, 1, 19.1402],
  [1703560500, 43469.0581, 1, 19.1362],
  [1703560800, 43463.3375, 1, 19.1266],
  [1703561100, 43435.4109, 1, 19.1348],
  [1703561400, 43452.6669, 1, 19.1266],
  [1703561700, 43401.4156, 1, 19.1236],
  [1703562000, 43426.6558, 1, 19.1422],
  [1703562300, 43435.5961, 1, 19.147],
  [1703562600, 43433.7235, 1, 19.1573],
  [1703562900, 43460.2577, 1, 19.1548],
  [1703563200, 43454.0112, 1, 19.1531],
  [1703563500, 43455.1466, 1, 19.1591],
  [1703563800, 43441.4967, 1, 19.1536],
  [1703564100, 43403.8628, 1, 19.154],
  [1703564400, 43420.6609, 1, 19.1652],
  [1703564700, 43414.2719, 1, 19.1458],
  [1703565000, 43433.4461, 1, 19.1451],
  [1703565300, 43411.2749, 1, 19.1609],
  [1703565600, 43432.0589, 1, 19.1569],
  [1703565900, 43439.8203, 1, 19.156],
  [1703566200, 43448.2946, 1, 19.1538],
  [1703566500, 43462.0611, 1, 19.1454],
  [1703566800, 43454.1558, 1, 19.1365],
  [1703567100, 43430.3827, 1, 19.1381],
  [1703567400, 43357.5748, 1, 19.1322],
  [1703567700, 43242.7646, 1, 19.0999],
  [1703568000, 43222.1203, 1, 19.1161],
  [1703568300, 43147.3521, 1, 19.1099],
  [1703568600, 43099.4634, 1, 19.1077],
  [1703568900, 42882.0489, 1, 19.1151],
  [1703569200, 42785.9603, 1, 19.141],
  [1703569500, 42768.8606, 1, 19.1126],
  [1703569800, 42807.541, 1, 19.105],
  [1703570100, 42809.4235, 1, 19.107],
  [1703570400, 42778.3873, 1, 19.1333],
  [1703570700, 42658.2539, 1, 19.1189],
  [1703571000, 42625.7524, 1, 19.1151],
  [1703571300, 42683.7106, 1, 19.1429],
  [1703571600, 42766.8478, 1, 19.1357],
  [1703571900, 42792.7216, 1, 19.1589],
  [1703572200, 42698.7431, 1, 19.1387],
  [1703572500, 42727.7183, 1, 19.1401],
  [1703572800, 42743.082, 1, 19.1243],
  [1703573100, 42753.0498, 1, 19.1278],
  [1703573400, 42779.1521, 1, 19.1518],
  [1703573700, 42711.3848, 1, 19.1498],
  [1703574000, 42691.3391, 1, 19.151],
  [1703574300, 42730.9223, 1, 19.1636],
  [1703574600, 42777.5673, 1, 19.1401],
  [1703574900, 42782.9615, 1, 19.1495],
  [1703575200, 42773.4453, 1, 19.1409],
  [1703575500, 42828.9837, 1, 19.1337],
  [1703575800, 42800.2719, 1, 19.1223],
  [1703576100, 42791.9702, 1, 19.1037],
  [1703576400, 42776.0123, 1, 19.1081],
  [1703576700, 42788.0085, 1, 19.1147],
  [1703577000, 42760.7226, 1, 19.1127],
  [1703577300, 42805.404, 1, 19.1031],
  [1703577600, 42779.4669, 1, 19.0848],
  [1703577900, 42776.0987, 1, 19.0799],
  [1703578200, 42740.981, 1, 19.0868],
  [1703578500, 42716.0051, 1, 19.0903],
  [1703578800, 42671.1081, 1, 19.0905],
  [1703579100, 42716.3393, 1, 19.0937],
  [1703579400, 42702.3811, 1, 19.0942],
  [1703579700, 42697.787, 1, 19.0818],
  [1703580000, 42736.2644, 1, 19.0937],
  [1703580300, 42755.6885, 1, 19.1052],
  [1703580600, 42788.0211, 1, 19.1087],
  [1703580900, 42715.6998, 1, 19.0863],
  [1703581200, 42710.1553, 1, 19.0941],
  [1703581500, 42707.5563, 1, 19.0681],
  [1703581800, 42692.0839, 1, 19.0652],
  [1703582100, 42663.8453, 1, 19.0562],
  [1703582400, 42663.5699, 1, 19.0543],
  [1703582700, 42663.7858, 1, 19.0628],
  [1703583000, 42662.6484, 1, 19.0831],
  [1703583300, 42692.5341, 1, 19.093],
  [1703583600, 42644.8299, 1, 19.0677],
  [1703583900, 42561.6136, 1, 19.0899],
  [1703584200, 42399.858, 1, 19.0587],
  [1703584500, 42389.8929, 1, 19.0782],
  [1703584800, 42402.6623, 1, 19.0816],
  [1703585100, 42432.315, 1, 19.0766],
  [1703585400, 42525.8809, 1, 19.056],
  [1703585700, 42534.1515, 1, 19.049],
  [1703586000, 42472.6452, 1, 19.0363],
  [1703586300, 42528.4721, 1, 19.056],
  [1703586600, 42562.8577, 1, 19.0354],
  [1703586900, 42604.276, 1, 19.0448],
  [1703587200, 42590.762, 1, 19.0386],
  [1703587500, 42624.0956, 1, 19.0475],
  [1703587800, 42606.8925, 1, 19.0533],
  [1703588100, 42632.2371, 1, 19.0499],
  [1703588400, 42647.6902, 1, 19.0426],
  [1703588700, 42616.204, 1, 19.0477],
  [1703589000, 42579.1976, 1, 19.0452],
  [1703589300, 42585.7169, 1, 19.0459],
  [1703589600, 42655.3925, 1, 19.053],
  [1703589900, 42638.2287, 1, 19.0505],
  [1703590200, 42626.8326, 1, 19.0443],
  [1703590500, 42646.0056, 1, 19.0484],
  [1703590800, 42671.7048, 1, 19.0401],
  [1703591100, 42724.9526, 1, 19.0453],
  [1703591400, 42689.5858, 1, 19.034],
  [1703591700, 42690.8257, 1, 19.0455],
  [1703592000, 42686.154, 1, 19.0377],
  [1703592300, 42694.3596, 1, 19.0354],
  [1703592600, 42634.4549, 1, 19.0142],
  [1703592900, 42631.29, 1, 19.018],
  [1703593200, 42663.3589, 1, 19.034],
  [1703593500, 42677.8815, 1, 19.0298],
  [1703593800, 42710.1961, 1, 19.0323],
  [1703594100, 42691.6628, 1, 19.0274],
  [1703594400, 42680.0148, 1, 19.0309],
  [1703594700, 42739.3662, 1, 19.0334],
  [1703595000, 42774.8861, 1, 19.0451],
  [1703595300, 42768.0598, 1, 19.0489],
  [1703595600, 42769.5668, 1, 19.034],
  [1703595900, 42765.1898, 1, 19.0237],
  [1703596200, 42750.7506, 1, 19.0176],
  [1703596500, 42750.9017, 1, 19.0275],
  [1703596800, 42753.4436, 1, 19.0257],
  [1703597100, 42736.4548, 1, 19.0369],
  [1703597400, 42682.1882, 1, 19.0317],
  [1703597700, 42654.0431, 1, 19.0281],
  [1703598000, 42704.1585, 1, 19.0237],
  [1703598300, 42751.0147, 1, 19.0156],
  [1703598600, 42710.8502, 1, 19.0122],
  [1703598900, 42721.5878, 1, 18.9939],
  [1703599200, 42718.5162, 1, 19.0102],
  [1703599500, 42672.5799, 1, 19.0187],
  [1703599800, 42663.7197, 1, 19.0335],
  [1703600100, 42687.2197, 1, 19.0412],
  [1703600400, 42691.5153, 1, 19.0435],
  [1703600700, 42777.2056, 1, 19.0408],
  [1703601000, 42781.3634, 1, 19.0345],
  [1703601300, 42747.108, 1, 19.0275],
  [1703601600, 42700.2035, 1, 19.0205],
  [1703601900, 42682.9669, 1, 19.0138],
  [1703602200, 42653.7899, 1, 18.9895],
  [1703602500, 42644.3218, 1, 18.986],
  [1703602800, 42598.855, 1, 19.0197],
  [1703603100, 42563.0396, 1, 19.021],
  [1703603400, 42601.8233, 1, 19.0193],
  [1703603700, 42506.2361, 1, 19.0444],
  [1703604000, 42559.6011, 1, 19.0149],
  [1703604300, 42622.4811, 1, 19.0346],
  [1703604600, 42651.9756, 1, 19.0348],
  [1703604900, 42715.5018, 1, 19.0451],
  [1703605200, 42690.2775, 1, 19.0331],
  [1703605500, 42584.6071, 1, 19.0132],
  [1703605800, 42536.9658, 1, 19.0298],
  [1703606100, 42409.8414, 1, 19.0452],
  [1703606400, 42394.0874, 1, 19.0228],
  [1703606700, 42351.1385, 1, 18.9859],
  [1703607000, 42345.3302, 1, 19.0076],
  [1703607300, 42274.1854, 1, 19.0021],
  [1703607600, 42306.847, 1, 19.007],
  [1703607900, 42192.9782, 1, 19.0061],
  [1703608200, 42277.14, 1, 19.0151],
  [1703608500, 42333.2422, 1, 19.0349],
  [1703608800, 42313.3939, 1, 19.0331],
  [1703609100, 42334.1389, 1, 19.0394],
  [1703609400, 42255.4361, 1, 19.0149],
  [1703609700, 42288.2528, 1, 19.0338],
  [1703610000, 42325.7838, 1, 19.0395],
  [1703610300, 42341.0605, 1, 19.0593],
  [1703610600, 42268.3384, 1, 19.046],
  [1703610900, 42327.9025, 1, 19.0463],
  [1703611200, 42279.0556, 1, 19.0299],
  [1703611500, 42202.2164, 1, 19.0756],
  [1703611800, 42260.0431, 1, 19.0813],
  [1703612100, 42168.7318, 1, 19.1069],
  [1703612400, 41834.7877, 1, 19.1015],
  [1703612700, 41974.6663, 1, 19.1163],
  [1703613000, 41887.9826, 1, 19.1076],
  [1703613300, 41861.8284, 1, 19.0952],
  [1703613600, 41990.9839, 1, 19.076],
  [1703613900, 42113.6739, 1, 19.0788],
  [1703614200, 42093.9558, 1, 19.0591],
  [1703614500, 42050.0745, 1, 19.0823],
  [1703614800, 41986.8035, 1, 19.0594],
  [1703615100, 41981.5746, 1, 19.0567],
  [1703615400, 41880.1426, 1, 19.0415],
  [1703615700, 41882.945, 1, 19.0658],
  [1703616000, 41927.9359, 1, 19.0675],
  [1703616300, 41994.6002, 1, 19.0758],
  [1703616600, 42081.2371, 1, 19.0828],
  [1703616900, 42116.0959, 1, 19.0869],
  [1703617200, 42162.1292, 1, 19.0774],
  [1703617364, 42169.55050522044, 1, 19.08075619941488],
];
